<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>OKR ë§Œë“¤ê¸°</title>
    <script>
        let krCount = 3;

        function addKeyResult() {
            if (krCount >= 5) return;

            const container = document.getElementById("keyResultContainer");

            const div = document.createElement("div");
            div.className = "kr-input";

            div.innerHTML = `
                <input type="text" name="keyResults[${krCount}].content" placeholder="í•µì‹¬ ê²°ê³¼ ${krCount + 1}" required />
                <button type="button" onclick="removeKeyResult(this)">ì‚­ì œ</button>
            `;

            container.appendChild(div);
            krCount++;
        }

        function removeKeyResult(button) {
            const div = button.parentElement;
            div.remove();
            krCount--;
        }
    </script>
</head>
<body>
<h1>ğŸ¯ ìƒˆë¡œìš´ OKR ë§Œë“¤ê¸°</h1>

<form th:action="@{/okr/create}" method="post">
    <label>ëª©í‘œ ì œëª©:</label><br>
    <input type="text" name="title" placeholder="ì˜ˆ: ë¸”ë¡œê·¸ ë°©ë¬¸ì 2ë°°ë¡œ ëŠ˜ë¦¬ê¸°" required><br><br>

    <label>ëª©í‘œ ì„¤ëª…:</label><br>
    <textarea name="description" rows="3" cols="40" placeholder="ëª©í‘œì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea><br><br>



    <label>í•µì‹¬ ê²°ê³¼ (ìµœì†Œ 3ê°œ, ìµœëŒ€ 5ê°œ):</label>
    <div id="keyResultContainer">
        <div><input type="text" name="keyResults[0].content" placeholder="í•µì‹¬ ê²°ê³¼ 1" required></div>
        <div><input type="text" name="keyResults[1].content" placeholder="í•µì‹¬ ê²°ê³¼ 2" required></div>
        <div><input type="text" name="keyResults[2].content" placeholder="í•µì‹¬ ê²°ê³¼ 3" required></div>
    </div>

    <button type="button" onclick="addKeyResult()">â• í•µì‹¬ ê²°ê³¼ ì¶”ê°€</button>
    <br><br>

    <button type="submit">âœ… ëª©í‘œ ë“±ë¡</button>
</form>
</body>
</html>